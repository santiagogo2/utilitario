<form #patientForm="ngForm">
	<div class="form-group">
		<div class="col col-sm-9 col-lg-5 d-inline-block align-top">
			<label for=" documento" class="labelForm">Documento*</label>
			<input type="text" name="documento" class="form-control inputForm" [ngClass]="{ 'is-invalid': documento.touched && documento.invalid}" #documento="ngModel" [(ngModel)]="patient.documento" maxlength='15' pattern="[0-9]+" required>
		</div>
		<div class="col col-sm-3 col-lg-2 d-inline-block align-bottom">
	        <a class="btn btn-info btn-sm col-sm-12 enlarge" style="color: white; border-radius: 0;" *ngIf="patient.documento && documento.valid" (click)="searchPatient()">Buscar</a>
	    </div>
		<div class="col col-sm-12 col-lg-5 d-inline-block align-top">
			<label for="tipoDocumento" class="labelForm">Tipo de documento*</label>
			<select style="background-position-x: 93%" name="tipoDocumento" id="tipoDocumento" class="form-control inputForm" [ngClass]="{'is-invalid': tipoDocumento.invalid && tipoDocumento.touched}" #tipoDocumento="ngModel" [(ngModel)]="patient.tipoDocumento" required>
				<option *ngFor="let tipo of tipoDocumentos" value="{{ tipo.id }}">{{ tipo.value }}</option>
			</select>
		</div>
		<div class="col-sm-12" *ngIf="patientPreloaderStatus">
			<fa-icon [icon]="faSpinner" class="d-block spin"></fa-icon>
		</div>
		<div class="col col-sm-12" *ngIf="patienSearchResponseMessage">
			<small class="invalid-feedback d-block">{{ patienSearchResponseMessage }}</small>
		</div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-3 d-inline-block align-top">
			<label for="primerNombre" class="labelForm">Primer nombre*</label>
			<input type="text" name="primerNombre" class="form-control inputForm" [ngClass]="{'is-invalid': primerNombre.touched && primerNombre.invalid}" #primerNombre="ngModel" [(ngModel)]="patient.primerNombre" (ngModelChange)="patient.primerNombre = upperCase($event)"
				required pattern="[a-zA-ZÀ-ÿ ]+" maxlength="50" placeholder="Ingrese el primer nombre">
		</div>
		<div class="col col-sm-12 col-lg-3 d-inline-block align-top">
			<label for="segundoNombre" class="labelForm">Segundo nombre</label>
			<input type="text" name="segundoNombre" class="form-control inputForm" [ngClass]="{'is-invalid': segundoNombre.touched && segundoNombre.invalid}" #segundoNombre="ngModel" [(ngModel)]="patient.segundoNombre" (ngModelChange)="patient.segundoNombre = upperCase($event)"
				pattern="[a-zA-ZÀ-ÿ ]+" maxlength="50" placeholder="Ingrese el segundo nombre">
		</div>
		<div class="col col-sm-12 col-lg-3 d-inline-block align-top">
			<label for="primerApellido" class="labelForm">Primer apellido*</label>
			<input type="text" name="primerApellido" class="form-control inputForm" [ngClass]="{'is-invalid': primerApellido.touched && primerApellido.invalid}" #primerApellido="ngModel" [(ngModel)]="patient.primerApellido" (ngModelChange)="patient.primerApellido = upperCase($event)"
				required pattern="[a-zA-ZÀ-ÿ ]+" maxlength="50" placeholder="Ingrese el primer apellido">
		</div>
		<div class="col col-sm-12 col-lg-3 d-inline-block align-top">
			<label for="segundoApellido" class="labelForm">Segundo apellido</label>
			<input type="text" name="segundoApellido" class="form-control inputForm" [ngClass]="{'is-invalid': segundoApellido.touched && segundoApellido.invalid}" #segundoApellido="ngModel" [(ngModel)]="patient.segundoApellido" (ngModelChange)="patient.segundoApellido = upperCase($event)"
				pattern="[a-zA-ZÀ-ÿ ]+" maxlength="50" placeholder="Ingrese el segundo apellido">
		</div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-4 d-inline-block align-top">
			<label for="edad" class="labelForm">Edad*</label>
			<input type="text" name="edad" class="form-control inputForm" [ngClass]="{ 'is-invalid': edad.touched && edad.invalid}" #edad="ngModel" [(ngModel)]="patient.edad" maxlength="3" pattern="[0-9]+" required>
		</div>
		<div class="col col-sm-12 col-lg-4 d-inline-block align-top">
			<label for="unidadMedida" class="labelForm">Unidad de medida*</label>
			<select style="background-position-x: 93%" name="unidadMedida" id="unidadMedida" class="form-control inputForm" [ngClass]="{'is-invalid': unidadMedida.invalid && unidadMedida.touched}" #unidadMedida="ngModel" [(ngModel)]="patient.unidadMedida" required>
				<option *ngFor="let unidad of unidadesMedida" value="{{ unidad.id }}">{{ unidad.name }}</option>
			</select>
		</div>
		<div class="col col-sm-12 col-lg-4 d-inline-block align-top">
			<label for="sexo" class="labelForm">Sexo*</label>
			<select style="background-position-x: 93%" name="sexo" id="sexo" class="form-control inputForm" [ngClass]="{'is-invalid': sexo.invalid && sexo.touched}" #sexo="ngModel" [(ngModel)]="patient.sexo" required>
				<option *ngFor="let sexo of sexos" value="{{ sexo.id }}">{{ sexo.value }}</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for=" nacionalidad" class="labelForm">Nacionalidad*</label>
			<select style="background-position-x: 93%" name="nacionalidad" id="nacionalidad" class="form-control inputForm" [ngClass]="{'is-invalid': nacionalidad.invalid && nacionalidad.touched}" #nacionalidad="ngModel" [(ngModel)]="patient.nacionalidad" required>
				<option *ngFor="let nacionalidad of nacionalidades" value="{{ nacionalidad.id }}">{{ nacionalidad.name }}</option>
			</select>
		</div>
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="ocupacion" class="labelForm">Ocupación*</label>
			<select style="background-position-x: 93%" name="ocupacion" id="ocupacion" class="form-control inputForm" [ngClass]="{'is-invalid': ocupacion.invalid && ocupacion.touched}" #ocupacion="ngModel" [(ngModel)]="patient.ocupacion" required>
				<option *ngFor="let ocupacion of ocupaciones" value="{{ ocupacion.id }}">{{ ocupacion.name }}</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="pertenenciaEtnica" class="labelForm">Pertenencia Étnica*</label>
			<select style="background-position-x: 93%" name="pertenenciaEtnica" id="pertenenciaEtnica" class="form-control inputForm" [ngClass]="{'is-invalid': pertenenciaEtnica.invalid && pertenenciaEtnica.touched}" #pertenenciaEtnica="ngModel" [(ngModel)]="patient.pertenenciaEtnica" required>
				<option *ngFor="let pertenencia of pertenenciasEtnicas" value="{{ pertenencia.id }}">{{ pertenencia.name }}</option>
			</select>
		</div>
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="grupoPoblacional" class="labelForm">Grupo Poblacional*</label>
			<select style="background-position-x: 93%" name="grupoPoblacional" id="grupoPoblacional" class="form-control inputForm" [ngClass]="{'is-invalid': grupoPoblacional.invalid && grupoPoblacional.touched}" #grupoPoblacional="ngModel" [(ngModel)]="patient.grupoPoblacional" required>
				<option *ngFor="let grupo of gruposPoblacionales" value="{{ grupo.id }}">{{ grupo.name }}</option>
			</select>
		</div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="direccion" class="labelForm">Direccion*</label>
			<input type="text" name="direccion" class="form-control inputForm" [ngClass]="{ 'is-invalid': direccion.touched && direccion.invalid}" #direccion="ngModel" [(ngModel)]="patient.direccion" (ngModelChange)="patient.direccion = upperCase($event)" maxlength="100" required>
		</div>
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="barrio" class="labelForm">Barrio*</label>
			<input type="text" name="barrio" class="form-control inputForm" [ngClass]="{ 'is-invalid': barrio.touched && barrio.invalid}" #barrio="ngModel" [(ngModel)]="patient.barrio" (ngModelChange)="patient.barrio = upperCase($event)" maxlength="100" required>
		</div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="location" class="labelForm">Localidad de residencia*</label>
			<select style="background-position-x: 93%" name="location" id="location" class="form-control inputForm" [ngClass]="{'is-invalid': location.invalid && location.touched}" #location="ngModel" [(ngModel)]="selectedLocation" required (change)="getUpzs()">
				<option *ngFor="let localidad of localidades" value="{{ localidad.id }}">{{ localidad.name }}</option>
			</select>
		</div>
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top" *ngIf="upzs && selectedLocation && selectedLocation!=5">
			<label for="upz" class="labelForm">UPZ*</label>
			<select style="background-position-x: 93%" name="upz" id="upz" class="form-control inputForm" [ngClass]="{'is-invalid': upz.invalid && upz.touched}" #upz="ngModel" [(ngModel)]="patient.UPZ_id" required>
				<option *ngFor="let upz of upzs" value="{{ upz.id }}">{{ upz.name }}</option>
			</select>
		</div>
		<div class="col-sm-12 col-md-6 d-inline-block align-bottom" *ngIf="upzPreloaderStatus">
			<fa-icon [icon]="faSpinner" class="d-block spin"></fa-icon>
		</div>
		<div class="col-sm-12 col-md-6 d-inline-block align-bottom" *ngIf="upzSearchResponseMessage"><small class="invalid-feedback d-block">{{ upzSearchResponseMessage }}</small></div>
	</div>
	<div class="form-group">
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="telefono" class="labelForm">Telefono*</label>
			<input type="text" name="telefono" class="form-control inputForm" [ngClass]="{ 'is-invalid': telefono.touched && telefono.invalid}" #telefono="ngModel" [(ngModel)]="patient.telefono" maxlength="10" pattern="[0-9]+" required>
		</div>
		<div class="col col-sm-12 col-lg-6 d-inline-block align-top">
			<label for="insurer" class="labelForm">Aseguradora*</label>
			<select style="background-position-x: 93%" name="insurer" id="insurer" class="form-control inputForm" [ngClass]="{'is-invalid': insurer.invalid && insurer.touched}" #insurer="ngModel" [(ngModel)]="patient.insurers_id" required>
				<option *ngFor="let insurer of insurers" value="{{ insurer.id }}">{{ insurer.name }}</option>
			</select>
		</div>
	</div>
</form>